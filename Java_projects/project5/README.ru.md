Этот README доступен на другом языке:  
[en version](README.md)

[Вернуться к списку проектов](../README.ru.md)

# Микросервисное прило��ение для работы с котами и их владельцами (Spring Boot + REST API + RabbitMQ + Security)

## Цель
Освоить построение микросервисной архитектуры на Spring Boot, интеграцию через RabbitMQ, реализацию REST API, внедрение безопасности и работу с DTO.

---

## Краткое описание
Приложение состоит из трёх микросервисов:  
- **cat-service** — управление котиками  
- **owner-service** — управление владельцами  
- **gateway** — единая точка входа, маршрутизация запросов, аутентификация и авторизация

Микросервисы взаимодействуют через RabbitMQ. Реализованы CRUD-операции, DTO-слой, аутентификация, авторизация и тестирование.

---

## Основные функции
- REST API для сущностей `Cat`, `Owner`, `User`
- CRUD-операции для котов и владельцев
- DTO-слой для передачи данных (`CatDto`, `OwnerDto`, `UserDto`, `RegisterDto`)
- Аутентификация и авторизация через JWT (Spring Security)
- Роли пользователей (`Role`)
- Взаимодействие сервисов через RabbitMQ
- Swagger-документация (при наличии)
- Unit-тесты контроллеров через MockMVC

---

## Архитектура

Микросервисная струк��ура:
- **cat-service**  
  - Управление котами 
  - Слой сервисов, репозиториев, DTO  
  - RabbitMQ listener для обработки сообщений  
- **owner-service**  
  - Управление владельцами  
  - Слой сервисов, репозиториев, DTO  
  - RabbitMQ listener  
- **gateway**  
  - REST-контроллеры (`CatController`, `OwnerController`, `AuthController`, `SessionController`)  
  - Слой сервисов, репозиториев, DTO, Security  
  - JWT-аутентификация и авторизация  
  - Маршрутизация и взаимодействие с другими сервисами через RabbitMQ

Внедрение зависимостей через Dependency Injection.

---

## Пример REST API

### Примеры запросов:
- `GET /api/cats` — получить всех котиков
- `GET /api/owners` — получить всех владельцев
- `POST /api/auth/register` — регистрация пользователя
- `POST /api/auth/login` — вход пользователя
- `GET /api/session` — информация о текущей сессии

---

## Тестирование

- JUnit 5 — модульные тесты
- MockMVC — тестирование контроллеров (`gateway/src/test/java/com/project5`)

---

## Технологии
- Java 21
- Spring Boot
- Spring MVC
- Spring Data JPA
- Spring Security (JWT)
- RabbitMQ
- PostgreSQL
- Swagger 
- JUnit 5, MockMVC
- Maven

---

## Конфигурация
- Основные настройки микросервисов — `cat-service/resources/application.yml`, `owner-service/resources/application.yml`, `gateway/resources/application.yml`
- Конфигурация RabbitMQ — `RabbitMQConfig.java` в каждом сервисе

---

## Особенности и отличия от предыдущего проекта

- Микросервисная архитектура: три отдельных сервиса вместо монолита
- Взаимодействие между сервисами через RabbitMQ
- Gateway-сервис реализует маршрутизацию, безопасность и единую точку входа
- Более строгая изоляция бизнес-логики и данных
- Использование JWT для авторизации
- Каждый сервис ��меет собственную конфигурацию и слой DTO

---

## Результат
Микросервисное прило��ение с REST API для управления котами, владельцами и пользователями, поддержкой аутентификации, авторизации, DTO-слоя, RabbitMQ и тестирования.

---

